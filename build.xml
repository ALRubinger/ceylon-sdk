<project name="Ceylon SDK" basedir=".">

  <!-- the modules, in dependency order -->
  <filelist id="module.dirs">
    <file name="sdk-test"/>
    <file name="math"/>
    <file name="collection"/>
    <file name="file"/>
    <file name="process"/>
    <file name="json"/>
    <file name="net"/>
    <file name="io"/>
    <file name="interop.java"/>
  </filelist>
  
  <macrodef name="iterate">
    <attribute name="target"/>
    <sequential>
      <subant target="@{target}">
      	<filelist refid="module.dirs"/>
        <property name="build" location="build"/>
        <property name="build.modules" location="build/modules"/>
        <property name="test.reports" location="build/test-reports"/>
        <property name="repo.dependencies" location="build/modules"/>
        <property name="publish.username" value="${publish.username}"/>
        <property name="publish.password" value="${publish.password}"/>
        <property name="publish.repo" value="${publish.repo}"/>
      </subant>
    </sequential>
  </macrodef>

  <target name="compile">
    <iterate target="compile-module"/>
  </target>
	
  <target name="clean">
    <iterate target="clean-module"/>
  </target>
	
  <target name="test">
    <iterate target="test-module"/>
  </target>
	
  <target name="doc">
    <iterate target="doc-module"/>
  </target>
  
  <target name="local">
    <iterate target="local-module"/>
  </target>
  
  <target name="herd">
    <iterate target="herd-module"/>
  </target>

</project>

